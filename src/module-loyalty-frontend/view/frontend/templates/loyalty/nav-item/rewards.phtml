<?php
/**
 * Rewards navigation item
 *
 * @var Leat\LoyaltyFrontend\Block\Loyalty\Navigation $block
 * @var Magento\Framework\Escaper $escaper
 */

$code = $block->getData('section_code') ?: 'rewards';
$position = $block->getData('item_position') ?: 0;
$isFirst = $position === 1;

// Get section ID from the Navigation block
$sectionId = $block->getSectionId($code);

// Default to active if it's the first item
$activeClass = $isFirst ? ' active' : '';
?>
<li class="leat-nav-item" data-code="<?= $escaper->escapeHtmlAttr($code) ?>" data-position="<?= $position ?>">
    <a href="#<?= $escaper->escapeHtmlAttr($sectionId) ?>" class="leat-nav-link<?= $activeClass ?>">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="leat-nav-icon tabler-icon tabler-icon-stars">
            <path d="M17.8 19.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"></path>
            <path d="M6.2 19.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"></path>
            <path d="M12 9.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"></path>
        </svg>
        <span><?= $escaper->escapeHtml($block->getItemLabel($code) ?: __('Rewards')) ?></span>
    </a>
</li>
