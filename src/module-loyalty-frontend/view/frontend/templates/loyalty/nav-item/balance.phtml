<?php
/**
 * Balance navigation item
 *
 * @var Leat\LoyaltyFrontend\Block\Loyalty\Navigation $block
 * @var Magento\Framework\Escaper $escaper
 */

$code = $block->getData('section_code') ?: 'balance';
$position = $block->getData('item_position') ?: 0;
$isFirst = $position === 1;

// Get section ID from the Navigation block
$sectionId = $block->getSectionId($code);

// Default to active if it's the first item
$activeClass = $isFirst ? ' active' : '';
?>
<li class="leat-nav-item" data-code="<?= $escaper->escapeHtmlAttr($code) ?>" data-position="<?= $position ?>">
    <a href="#<?= $escaper->escapeHtmlAttr($sectionId) ?>" class="leat-nav-link<?= $activeClass ?>">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="leat-nav-icon tabler-icon tabler-icon-coin">
            <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
            <path d="M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1"></path>
            <path d="M12 7v10"></path>
        </svg>
        <span><?= $escaper->escapeHtml($block->getItemLabel($code) ?: __('Balance')) ?></span>
    </a>
</li>
