<?php
/**
 * Coupons navigation item
 *
 * @var Leat\LoyaltyFrontend\Block\Loyalty\Navigation $block
 * @var Magento\Framework\Escaper $escaper
 */

$code = $block->getData('section_code') ?: 'coupons';
$position = $block->getData('item_position') ?: 0;
$isFirst = $position === 1;

// Get section ID from the Navigation block
$sectionId = $block->getSectionId($code);

// Default to active if it's the first item
$activeClass = $isFirst ? ' active' : '';
?>
<li class="leat-nav-item" data-code="<?= $escaper->escapeHtmlAttr($code) ?>" data-position="<?= $position ?>">
    <a href="#<?= $escaper->escapeHtmlAttr($sectionId) ?>" class="leat-nav-link<?= $activeClass ?>">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="leat-nav-icon tabler-icon tabler-icon-credit-card">
            <path d="M3 5m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z"></path>
            <path d="M3 10l18 0"></path>
            <path d="M7 15l.01 0"></path>
            <path d="M11 15l2 0"></path>
        </svg>
        <span><?= $escaper->escapeHtml($block->getItemLabel($code) ?: __('Coupons')) ?></span>
    </a>
</li>
