<?php
/**
 * Activity navigation item
 *
 * @var Leat\LoyaltyFrontend\Block\Loyalty\Navigation $block
 * @var Magento\Framework\Escaper $escaper
 */

$code = $block->getData('section_code') ?: 'activity';
$position = $block->getData('item_position') ?: 0;
$isFirst = $position === 1;

// Get section ID from the Navigation block
$sectionId = $block->getSectionId($code);
// Default to active if it's the first item
$activeClass = $isFirst ? ' active' : '';
?>
<li class="leat-nav-item" data-code="<?= $escaper->escapeHtmlAttr($code) ?>" data-position="<?= $position ?>">
    <a href="#<?= $escaper->escapeHtmlAttr($sectionId) ?>" class="leat-nav-link<?= $activeClass ?>">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="leat-nav-icon tabler-icon tabler-icon-history">
            <path d="M12 8l0 4l2 2"></path>
            <path d="M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"></path>
        </svg>
        <span><?= $escaper->escapeHtml($block->getItemLabel($code) ?: __('Activity')) ?></span>
    </a>
</li>
